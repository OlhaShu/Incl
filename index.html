<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–í–ø—Ä–∞–≤–∞: –°–ø—ñ–≤—Å—Ç–∞–≤–ª–µ–Ω–Ω—è —Ç–µ—Ä–º—ñ–Ω—ñ–≤ ‚Äî –Ü–Ω–∫–ª—é–∑–∏–≤–Ω–∏–π UX-–¥–∏–∑–∞–π–Ω</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for the game */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7f9fc;
        }
        .term {
            cursor: grab;
            transition: transform 0.2s, box-shadow 0.2s, background-color 0.2s;
        }
        .term:active {
            cursor: grabbing;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            transform: scale(1.05);
            z-index: 10;
        }
        .drop-zone {
            min-height: 80px;
            background-color: #ffffff;
            border: 2px dashed #a0aec0;
            transition: background-color 0.2s, border-color 0.2s;
        }
        .drop-zone.drag-over {
            background-color: #ebf8ff; /* blue-100 */
            border-color: #3182ce; /* blue-600 */
        }
        .correct {
            background-color: #9ae6b4 !important; /* green-300 */
            border-color: #38a169 !important; /* green-600 */
        }
        .incorrect {
            background-color: #feb2b2 !important; /* red-300 */
            border-color: #e53e3e !important; /* red-600 */
        }
        .correct .term {
            background-color: #48bb78 !important; /* green-500 */
            color: white;
            cursor: default;
        }
        .incorrect .term {
            background-color: #e53e3e !important; /* red-600 */
            color: white;
            cursor: default;
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <div id="app" class="max-w-6xl mx-auto bg-white shadow-xl rounded-xl p-6 md:p-10">
        <header class="mb-8">
            <h1 class="text-3xl md:text-4xl font-extrabold text-gray-800 mb-2">üß† –í–ø—Ä–∞–≤–∞: –°–ø—ñ–≤—Å—Ç–∞–≤–ª–µ–Ω–Ω—è —Ç–µ—Ä–º—ñ–Ω—ñ–≤</h1>
            <p class="text-xl text-gray-600">–Ü–Ω–∫–ª—é–∑–∏–≤–Ω–∏–π UX-–¥–∏–∑–∞–π–Ω</p>
            <p class="text-sm text-gray-500 mt-2">–ü–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å —Ç–µ—Ä–º—ñ–Ω–∏ (–ª—ñ–≤–æ—Ä—É—á) –¥–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏—Ö –≤–∏–∑–Ω–∞—á–µ–Ω—å (–ø—Ä–∞–≤–æ—Ä—É—á).</p>
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Draggable Terms Column -->
            <div id="terms-container" class="space-y-4 p-4 bg-gray-50 rounded-lg shadow-inner order-2 lg:order-1">
                <h2 class="text-xl font-bold text-gray-700 mb-4 border-b pb-2">–¢–µ—Ä–º—ñ–Ω–∏</h2>
                <!-- Terms will be inserted here by JavaScript and shuffled -->
            </div>

            <!-- Drop Zones Column -->
            <div id="definitions-container" class="space-y-6 order-1 lg:order-2">
                <h2 class="text-xl font-bold text-gray-700 mb-4 border-b pb-2">–í–∏–∑–Ω–∞—á–µ–Ω–Ω—è</h2>
                <!-- Definitions and Drop Zones -->
            </div>
        </div>

        <!-- Feedback and Actions -->
        <div class="mt-10 pt-6 border-t flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0">
            <button id="check-btn" onclick="checkMatches()" class="px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition-colors disabled:opacity-50">
                –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –°–ø—ñ–≤—Å—Ç–∞–≤–ª–µ–Ω–Ω—è
            </button>
            <div id="feedback" class="text-lg font-medium"></div>
            <button id="reset-btn" onclick="resetGame()" class="px-6 py-3 bg-red-500 text-white font-semibold rounded-lg shadow-md hover:bg-red-600 transition-colors hidden">
                –°–∫–∏–Ω—É—Ç–∏ —Ç–∞ –ü–µ—Ä–µ–º—ñ—à–∞—Ç–∏
            </button>
        </div>
    </div>

    <script>
        const matches = [
            { id: '1', term: '–Ü–Ω–∫–ª—é–∑–∏–≤–Ω–∏–π –¥–∏–∑–∞–π–Ω', definition: '–ú–µ—Ç–æ–¥–æ–ª–æ–≥—ñ—è –ø—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è, —â–æ –≤—Ä–∞—Ö–æ–≤—É—î –ø–æ–≤–Ω–∏–π —Å–ø–µ–∫—Ç—Ä –ª—é–¥—Å—å–∫–æ—ó —Ä—ñ–∑–Ω–æ–º–∞–Ω—ñ—Ç–Ω–æ—Å—Ç—ñ —è–∫ –¥–∂–µ—Ä–µ–ª–æ —ñ–Ω–Ω–æ–≤–∞—Ü—ñ–π.' },
            { id: '2', term: '–î–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å', definition: '–Ø–∫—ñ—Å—Ç—å, —â–æ —Ä–æ–±–∏—Ç—å –¥–æ—Å–≤—ñ–¥ –≤—ñ–¥–∫—Ä–∏—Ç–∏–º –¥–ª—è –≤—Å—ñ—Ö, –æ—Å–æ–±–ª–∏–≤–æ –¥–ª—è –ª—é–¥–µ–π –∑ –æ–±–º–µ–∂–µ–Ω–∏–º–∏ –º–æ–∂–ª–∏–≤–æ—Å—Ç—è–º–∏. (–§–æ–∫—É—Å: –†–µ–∑—É–ª—å—Ç–∞—Ç)' },
            { id: '3', term: '–Æ–∑–∞–±—ñ–ª—ñ—Ç—ñ', definition: '–°—Ç—É–ø—ñ–Ω—å, –¥–æ —è–∫–æ—ó –ø—Ä–æ–¥—É–∫—Ç –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è –¥–ª—è –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è —Ü—ñ–ª–µ–π –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ, –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ —Ç–∞ —ñ–∑ –∑–∞–¥–æ–≤–æ–ª–µ–Ω–Ω—è–º. (–§–æ–∫—É—Å: –ï—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å)' },
            { id: '4', term: '–°–ø–µ–∫—Ç—Ä –ü–µ—Ä—Å–æ–Ω', definition: '–ö–æ–Ω—Ü–µ–ø—Ü—ñ—è, —â–æ –ø–æ–∫–∞–∑—É—î, —è–∫ –æ–±–º–µ–∂–µ–Ω–Ω—è –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π —î –¥–∏–Ω–∞–º—ñ—á–Ω–∏–º —Å–ø–µ–∫—Ç—Ä–æ–º (–ø–æ—Å—Ç—ñ–π–Ω—ñ, —Ç–∏–º—á–∞—Å–æ–≤—ñ, —Å–∏—Ç—É–∞—Ü—ñ–π–Ω—ñ).' },
            { id: '5', term: '–†–æ–∑–ø—ñ–∑–Ω–∞–≤–∞—Ç–∏ –≤–∏–∫–ª—é—á–µ–Ω–Ω—è', definition: '–ü—Ä–∏–Ω—Ü–∏–ø: –í–∏–∑–Ω–∞—Ç–∏, —â–æ —ñ–Ω–≤–∞–ª—ñ–¥–Ω—ñ—Å—Ç—å ‚Äî —Ü–µ –Ω–µ –æ—Å–æ–±–∏—Å—Ç–∞ –ø—Ä–æ–±–ª–µ–º–∞, –∞ "–Ω–µ–≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ—Å—Ç—å —É –≤–∑–∞—î–º–æ–¥—ñ—ó –º—ñ–∂ –ª—é–¥–∏–Ω–æ—é —Ç–∞ —Å—É—Å–ø—ñ–ª—å—Å—Ç–≤–æ–º".' },
            { id: '6', term: '–í–∏—Ä—ñ—à—É–≤–∞—Ç–∏ –¥–ª—è –æ–¥–Ω–æ–≥–æ', definition: '–ü—Ä–∏–Ω—Ü–∏–ø: –ü—Ä–æ—î–∫—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è –ª—é–¥–µ–π –∑ –ø–æ—Å—Ç—ñ–π–Ω–∏–º–∏ –æ–±–º–µ–∂–µ–Ω–Ω—è–º–∏ —Å—Ç–≤–æ—Ä—é—î —Ä—ñ—à–µ–Ω–Ω—è, —è–∫—ñ –ø—Ä–∏–Ω–æ—Å—è—Ç—å –∫–æ—Ä–∏—Å—Ç—å –Ω–∞–±–∞–≥–∞—Ç–æ —à–∏—Ä—à—ñ–π –∞—É–¥–∏—Ç–æ—Ä—ñ—ó ("–µ—Ñ–µ–∫—Ç –±–æ—Ä–¥—é—Ä—É").' },
            { id: '7', term: 'POUR', definition: '–ê–∫—Ä–æ–Ω—ñ–º —á–æ—Ç–∏—Ä—å–æ—Ö –æ—Å–Ω–æ–≤–æ–ø–æ–ª–æ–∂–Ω–∏—Ö –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤ WCAG: –°–ø—Ä–∏–π–Ω—è—Ç–Ω—ñ—Å—Ç—å, –û–ø–µ—Ä–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å, –ó—Ä–æ–∑—É–º—ñ–ª—ñ—Å—Ç—å, –ù–∞–¥—ñ–π–Ω—ñ—Å—Ç—å.' },
            { id: '8', term: '–°–∏—Ç—É–∞—Ü—ñ–π–Ω–µ –æ–±–º–µ–∂–µ–Ω–Ω—è', definition: '–û–±–º–µ–∂–µ–Ω–Ω—è, –≤–∏–∫–ª–∏–∫–∞–Ω–µ –∑–æ–≤–Ω—ñ—à–Ω—ñ–º–∏ –æ–±—Å—Ç–∞–≤–∏–Ω–∞–º–∏, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –±–∞—Ç—å–∫–æ, —è–∫–∏–π —Ç—Ä–∏–º–∞—î –Ω–∞ —Ä—É–∫–∞—Ö –¥–∏—Ç–∏–Ω—É —ñ –∫–æ—Ä–∏—Å—Ç—É—î—Ç—å—Å—è –ª–∏—à–µ –æ–¥–Ω—ñ—î—é —Ä—É–∫–æ—é.' },
        ];

        let draggedItem = null;
        const termsContainer = document.getElementById('terms-container');
        const definitionsContainer = document.getElementById('definitions-container');
        const feedbackElement = document.getElementById('feedback');
        const checkBtn = document.getElementById('check-btn');
        const resetBtn = document.getElementById('reset-btn');

        // Utility to shuffle an array
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function createTermElement(match) {
            const termEl = document.createElement('div');
            termEl.className = 'term px-4 py-3 bg-blue-500 text-white font-semibold rounded-lg shadow-md select-none transition-all duration-200';
            termEl.textContent = match.term;
            termEl.setAttribute('data-id', match.id);
            termEl.setAttribute('draggable', true);
            termEl.addEventListener('dragstart', handleDragStart);
            termEl.addEventListener('dragend', handleDragEnd);
            return termEl;
        }

        function createDropZoneElement(match) {
            const dropZoneWrapper = document.createElement('div');
            dropZoneWrapper.className = 'p-3 bg-gray-100 rounded-lg shadow-sm';

            const definitionText = document.createElement('p');
            definitionText.className = 'text-sm text-gray-700 mb-2';
            definitionText.textContent = match.definition;

            const dropZoneEl = document.createElement('div');
            dropZoneEl.className = 'drop-zone p-2 rounded-lg flex items-center justify-center text-gray-500 italic';
            dropZoneEl.textContent = '–ü–µ—Ä–µ—Ç—è–≥–Ω—ñ—Ç—å —Ç–µ—Ä–º—ñ–Ω —Å—é–¥–∏';
            dropZoneEl.setAttribute('data-id', match.id);
            dropZoneEl.addEventListener('dragover', handleDragOver);
            dropZoneEl.addEventListener('dragleave', handleDragLeave);
            dropZoneEl.addEventListener('drop', handleDrop);

            dropZoneWrapper.appendChild(definitionText);
            dropZoneWrapper.appendChild(dropZoneEl);
            return dropZoneWrapper;
        }

        function renderGame() {
            // Clear containers
            termsContainer.innerHTML = '<h2 class="text-xl font-bold text-gray-700 mb-4 border-b pb-2">–¢–µ—Ä–º—ñ–Ω–∏</h2>';
            definitionsContainer.innerHTML = '<h2 class="text-xl font-bold text-gray-700 mb-4 border-b pb-2">–í–∏–∑–Ω–∞—á–µ–Ω–Ω—è</h2>';
            feedbackElement.textContent = '';
            checkBtn.classList.remove('hidden');
            resetBtn.classList.add('hidden');
            checkBtn.disabled = false;

            const shuffledTerms = shuffle([...matches]);
            const definitionsInOrder = [...matches]; // Definitions remain in fixed order

            // Render terms
            shuffledTerms.forEach(match => {
                termsContainer.appendChild(createTermElement(match));
            });

            // Render definitions
            definitionsInOrder.forEach(match => {
                definitionsContainer.appendChild(createDropZoneElement(match));
            });
        }

        // --- Drag and Drop Handlers ---

        function handleDragStart(e) {
            draggedItem = e.target;
            e.dataTransfer.setData('text/plain', e.target.dataset.id); // Set the term ID
            setTimeout(() => {
                e.target.style.opacity = '0.4';
            }, 0);
        }

        function handleDragEnd(e) {
            e.target.style.opacity = '1';
        }

        function handleDragOver(e) {
            e.preventDefault(); // Necessary to allow dropping
            if (e.target.classList.contains('drop-zone')) {
                e.target.classList.add('drag-over');
            }
        }

        function handleDragLeave(e) {
            if (e.target.classList.contains('drop-zone')) {
                e.target.classList.remove('drag-over');
            }
        }

        function handleDrop(e) {
            e.preventDefault();
            const dropZone = e.target.closest('.drop-zone');

            if (draggedItem && dropZone) {
                dropZone.classList.remove('drag-over');

                // Check if the drop zone already has a term, if so, move it back
                if (dropZone.querySelector('.term')) {
                    const existingTerm = dropZone.querySelector('.term');
                    termsContainer.appendChild(existingTerm);
                }

                // Append the new term
                dropZone.innerHTML = '';
                dropZone.appendChild(draggedItem);
                draggedItem.style.opacity = '1'; // Reset opacity after drop

                // Clear feedback
                feedbackElement.textContent = '';
            }
        }

        // --- Game Logic ---

        function checkMatches() {
            let correctCount = 0;
            let totalCount = matches.length;
            const dropZones = definitionsContainer.querySelectorAll('.drop-zone');

            dropZones.forEach(zone => {
                zone.classList.remove('correct', 'incorrect');
                const droppedTerm = zone.querySelector('.term');
                const definitionId = zone.getAttribute('data-id');

                if (droppedTerm) {
                    const termId = droppedTerm.getAttribute('data-id');

                    if (termId === definitionId) {
                        correctCount++;
                        zone.classList.add('correct');
                    } else {
                        zone.classList.add('incorrect');
                    }
                    // Disable dragging after checking
                    droppedTerm.setAttribute('draggable', false);
                    droppedTerm.style.cursor = 'default';
                } else {
                    // If empty, consider it incorrect and mark the zone (optional, but good for feedback)
                    zone.classList.add('incorrect');
                }
            });

            // Display results
            feedbackElement.classList.remove('text-green-600', 'text-red-600');
            if (correctCount === totalCount) {
                feedbackElement.textContent = `üéâ –Ü–¥–µ–∞–ª—å–Ω–æ! –£—Å—ñ ${correctCount} —Ç–µ—Ä–º—ñ–Ω—ñ–≤ —Å–ø—ñ–≤—Å—Ç–∞–≤–ª–µ–Ω—ñ –ø—Ä–∞–≤–∏–ª—å–Ω–æ!`;
                feedbackElement.classList.add('text-green-600');
                checkBtn.disabled = true;
            } else {
                feedbackElement.textContent = `ü§î –†–µ–∑—É–ª—å—Ç–∞—Ç: ${correctCount} –∑ ${totalCount} –ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑, —â–æ–± –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ –ø–æ–º–∏–ª–∫–∏!`;
                feedbackElement.classList.add('text-red-600');
                // Re-enable dragging for incorrect items
                dropZones.forEach(zone => {
                    const droppedTerm = zone.querySelector('.term');
                    if (droppedTerm && zone.classList.contains('incorrect')) {
                        droppedTerm.setAttribute('draggable', true);
                        droppedTerm.style.cursor = 'grab';
                    }
                });
            }
            resetBtn.classList.remove('hidden');
        }

        function resetGame() {
            // Re-render the game to reset positions and styles
            renderGame();
        }

        // Initialize the game when the window loads
        window.onload = renderGame;
    </script>
</body>
</html>
